<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Diwali in Advance тАФ Omprakash bhamu </title>
<style>
:root{
  --bg:#050814;
  --gold:#ffd24d;
  --accent:#ffcf33;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family: "Segoe UI", Roboto, "Noto Sans", Arial, sans-serif;background:
  radial-gradient(ellipse at 20% 10%, #071028 0%, #03020a 60%), var(--bg); color:#fff; overflow:hidden}
.stage{position:relative; width:100%; height:100vh; display:flex; align-items:center; justify-content:center; text-align:center; padding:28px;}
.card{position:relative; z-index:6; max-width:980px; width:94%; padding:28px; border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  box-shadow: 0 10px 40px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03);}

.title{display:flex; align-items:center; justify-content:center; gap:12px; font-size:34px; margin:0 0 8px; color:var(--gold);}
.subtitle{color:#f7e1b2; margin-bottom:12px; font-size:15px;}
.message{min-height:140px; padding:18px 22px; border-radius:12px; margin:10px auto; font-size:19px; line-height:1.45;
  color:#fff6e6; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); box-shadow: 0 6px 18px rgba(2,6,23,0.45);}

.controls{display:flex; gap:12px; justify-content:center; margin-top:8px;}
.btn{background: linear-gradient(180deg, #ffdd66, #f6b800); color:#102028; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer;}
.btn.secondary{background:transparent; color:#ffdca3; border:1px solid rgba(255,220,140,0.12);}

/* Diya / footer */
.diya-row{position:absolute; left:50%; transform:translateX(-50%); bottom:20px; display:flex; gap:14px; z-index:6}
.diya{width:44px;height:44px; filter: drop-shadow(0 6px 18px rgba(255,140,0,0.14)); transform-origin:center bottom; animation: float 4s ease-in-out infinite;}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}

/* overlay vignette */
.vignette{position:fixed; inset:0; pointer-events:none; z-index:5; background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.45) 100%);}

/* timed progress bar (subtle) */
.progress{position:absolute; left:50%; transform:translateX(-50%); bottom:8px; width:60%; height:6px; background: rgba(255,255,255,0.03); border-radius:6px; overflow:hidden; z-index:7}
.progress > i{display:block; height:100%; width:0%; background:linear-gradient(90deg, #ffd24d, #ff8f6b); transition: width 0.5s linear}

/* small responsive */
@media (max-width:520px){
  .title{font-size:20px}
  .message{font-size:15px; min-height:170px}
  .diya{width:36px;height:36px}
}
</style>
</head>
<body>
<canvas id="fw" style="position:fixed;left:0;top:0;z-index:2;pointer-events:none;"></canvas>

<div class="stage" role="main" aria-live="polite">
  <div class="card" id="card">
    <div class="title">тЬи Happy Diwali in Advance тЬи <span style="font-size:16px;color:#ffe9b3; margin-left:8px;">тАФ Omprakash Naane</span></div>
    <div class="subtitle">рд░реМрд╢рдиреА, рдкреНрдпрд╛рд░ рдФрд░ рдЖрд╢реАрд░реНрд╡рд╛рдж тАФ рдЖрдкрдХреЗ рдФрд░ рдЖрдкрдХреЗ рдкрд░рд┐рд╡рд╛рд░ рдХреЗ рд▓рд┐рдПред</div>

    <div class="message" id="messageBox" aria-atomic="true">
      <div style="font-weight:700;font-size:20px;">рджреАрдпреЛрдВ рдХреА рд░реМрд╢рдиреА, рдЦреБрд╢рд┐рдпреЛрдВ рдХреА рд╕реМрдЧрд╛рдд тАФ</div>
      <small style="display:block;margin-top:8px;color:#ffeab3;">рд╣рд░ рджрд┐рди рдЖрдкрдХреЗ рд▓рд┐рдП рд▓реЗ рдЖрдП рдореАрдареА рдмрд╛рддред</small>
    </div>

    <div class="controls" aria-hidden="true">
      <button class="btn" id="replayBtn">Replay</button>
      <button class="btn secondary" id="muteBtn">Cracker: On</button>
    </div>
  </div>
</div>

<!-- diyas -->
<div class="diya-row" aria-hidden="true">
  <svg class="diya" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><g>
    <path d="M32 10c6 6 10 10 10 14 0 7-8 12-10 12s-10-5-10-12c0-4 4-8 10-14z" fill="#ffcf66"/>
    <path d="M22 38c0 7.5 10 14 10 14s10-6.5 10-14H22z" fill="#6b2b00"/>
    <ellipse cx="32" cy="30" rx="7.5" ry="4.2" fill="#ffd98e" opacity="0.95"/>
    <ellipse cx="32" cy="14" rx="3.8" ry="6.8" fill="#fff7aa" opacity="0.95"/>
  </g></svg>
  <svg class="diya" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><g>
    <path d="M32 12c5 5 9 9 9 13 0 6.5-7 11-9 11s-9-4.5-9-11c0-4 4-8 9-13z" fill="#ffd36b"/>
    <path d="M20 38c0 7 9 13 12 13 3 0 12-6 12-13H20z" fill="#4b2000"/>
    <ellipse cx="32" cy="29" rx="7" ry="4" fill="#fff1b0" opacity="0.95"/>
    <ellipse cx="32" cy="15" rx="3.2" ry="6.2" fill="#fffdf0" opacity="0.95"/>
  </g></svg>
  <svg class="diya" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><g>
    <path d="M32 11c6 6 11 10 11 14 0 7-8 12-11 12s-11-5-11-12c0-4 5-8 11-14z" fill="#ffca48"/>
    <path d="M21 38c0 6.6 9.5 13 11 13 1.5 0 11-6.4 11-13H21z" fill="#3a1800"/>
    <ellipse cx="32" cy="29.5" rx="7.2" ry="4.3" fill="#fff2b4" opacity="0.95"/>
    <ellipse cx="32" cy="14.2" rx="3.5" ry="6.5" fill="#fff9c8" opacity="0.95"/>
  </g></svg>
</div>

<div class="progress" aria-hidden="true"><i id="prog"></i></div>
<div class="vignette" aria-hidden="true"></div>

<script>
/* ============ Timed messages & length ============ 
   total ~ 68 seconds (messages displayed sequentially)
   - messages[] contains {t: seconds from start, html: content}
*/
const messages = [
  { t:0, html: '<div style="font-weight:700;font-size:20px">рджреАрдпреЛрдВ рдХреА рд░реМрд╢рдиреА, рдЦреБрд╢рд┐рдпреЛрдВ рдХреА рд╕реМрдЧрд╛рдд тАФ</div><small style="display:block;margin-top:8px;color:#ffeab3">рд╣рд░ рджрд┐рди рдЖрдкрдХреЗ рд▓рд┐рдП рд▓реЗ рдЖрдП рдореАрдареА рдмрд╛рддред</small>' },
  { t:7, html: '<div style="font-weight:700;font-size:20px">тЬи рд╢реБрднрдХрд╛рдордирд╛рдПрдБ тЬи</div><small style="display:block;margin-top:8px;color:#ffeab3">рдЗрд╕ рджреАрд╡рд╛рд▓реА рдЖрдкрдХреА рд╣рд░ рдЦреНрд╡рд╛рд╣рд┐рд╢ рдкреВрд░реА рд╣реЛ тАФ рд╕реБрдЦ, рд╕реНрд╡рд╛рд╕реНрдереНрдп рдФрд░ рд╕рдореГрджреНрдзрд┐ рдмрдврд╝реЗред</small>' },
  { t:18, html: '<div style="font-weight:700;font-size:20px">рд╢рд╛рдпрд░реА</div><small style="display:block;margin-top:8px;color:#ffeab3">рджреАрдкреЛрдВ рдХреА рд░реМрд╢рдиреА рд╕реЗ рд░реЛрд╢рди рд╣рд░ рдПрдХ рд░рд╛рд╣,\nрдЦреБрд╢рд┐рдпреЛрдВ рд╕реЗ рдорд╣рдХ рдЙрдареЗ рдЖрдкрдХреА рд╣рд░ рдЗрдХ рдЪрд╛рд╣ред</small>' },
  { t:28, html: '<div style="font-weight:700;font-size:20px">Blessings</div><small style="display:block;margin-top:8px;color:#ffeab3">рдИрд╢реНрд╡рд░ рдХрд░реЗ рдЖрдкрдХрд╛ рдШрд░ рдкреНрд░реЗрдо рдФрд░ рд╕реМрднрд╛рдЧреНрдп рд╕реЗ рднрд░рд╛ рд░рд╣реЗ тАФ Omprakash Naane рдХреА рддрд░рдлрд╝ рд╕реЗ рдЖрд╢реАрд░реНрд╡рд╛рджред</small>' },
  { t:39, html: '<div style="font-weight:700;font-size:20px">Quote</div><small style="display:block;margin-top:8px;color:#ffeab3">тАЬрдЕрдБрдзреЗрд░реЗ рдЯреВрдЯ рдЬрд╛рдПрдБ рдФрд░ рдЙрдореНрдореАрджреЛрдВ рдХрд╛ рд╕рд╡реЗрд░рд╛ рд╣реЛ тАФ рд╣рд░ рджреАрдк рдЖрдкрдХреЗ рдЬреАрд╡рди рдореЗрдВ рдирдИ рдЦреБрд╢рд┐рдпрд╛рдБ рд▓рд╛рдПредтАЭ</small>' },
  { t:50, html: '<div style="font-weight:800;font-size:22px;color:#fff1b0">рд╣реИрдкреНрдкреА рджреАрд╡рд╛рд▓реА рдЗрди рдПрдбрд╡рд╛рдВрд╕! ЁЯкФ</div><small style="display:block;margin-top:8px;color:#ffeab3">тАФ Omprakash Naane</small>' }
];
const totalDuration = 68; // seconds approx

/* references */
const msgBox = document.getElementById('messageBox');
const prog = document.getElementById('prog');
let timers = [];
let startTs = null;

/* schedule messages */
function scheduleAll(){
  // clear
  timers.forEach(t=>clearTimeout(t)); timers = [];
  startTs = Date.now();
  messages.forEach(m=>{
    const id = setTimeout(()=> showMessage(m.html), m.t * 1000);
    timers.push(id);
  });
  // final big burst & fade
  timers.push(setTimeout(()=> { triggerBigBurst(8); }, (totalDuration - 4) * 1000));
  timers.push(setTimeout(()=> { fadeOutSequence(); }, totalDuration * 1000 + 1000));
  // update progress
  timers.push(setInterval(updateProgress, 200));
}

/* show message with fade */
function showMessage(html){
  msgBox.style.opacity = 0;
  setTimeout(()=>{ msgBox.innerHTML = html; msgBox.style.opacity = 1; }, 300);
}

/* update progress bar */
function updateProgress(){
  const elapsed = (Date.now() - startTs)/1000;
  const pct = Math.min(100, Math.max(0, (elapsed/totalDuration)*100));
  prog.style.width = pct + '%';
}

/* replay button */
document.getElementById('replayBtn').addEventListener('click', ()=>{
  // simple reload without full page reload to retain context
  timers.forEach(t=>clearTimeout(t)); timers = [];
  // clear canvas particles
  particles = []; rockets = [];
  prog.style.width = '0%';
  startTs = null;
  scheduleAll();
});

/* mute (toggle cracker visual/audio flag) */
let crackersOn = true;
document.getElementById('muteBtn').addEventListener('click', function(){
  crackersOn = !crackersOn;
  this.innerText = crackersOn ? "Cracker: On" : "Cracker: Off";
});

/* ============ Canvas: fireworks + crackers ============ */
const canvas = document.getElementById('fw');
const ctx = canvas.getContext('2d');
let DPR = Math.max(1, window.devicePixelRatio || 1);
let cw, ch;
function resize(){ cw = window.innerWidth; ch = window.innerHeight; canvas.width = cw * DPR; canvas.height = ch * DPR; canvas.style.width = cw + "px"; canvas.style.height = ch + "px"; ctx.setTransform(DPR,0,0,DPR,0,0); }
resize(); window.addEventListener('resize', resize);

/* particles and rockets */
let particles = [], rockets = [];
const MAXP = 800;

/* rocket launcher (vertical pop) */
function launchRocket(x, color){
  rockets.push({ x: x || (50 + Math.random()*(cw-100)), y: ch + 10, vx:(Math.random()-0.5)*1.2, vy: - (7 + Math.random()*5), color: color || `hsl(${Math.random()*360},90%,60%)`, life:0});
}

/* explode -> many particles */
function explode(x,y,color){
  const cnt = 22 + Math.floor(Math.random()*40);
  for(let i=0;i<cnt;i++){
    const ang = Math.random()*Math.PI*2;
    const spd = Math.random()*5 + 1.4;
    particles.push({
      x:x, y:y, vx:Math.cos(ang)*spd, vy:Math.sin(ang)*spd,
      alpha:1, decay:0.01 + Math.random()*0.02, color: color, size:1 + Math.random()*2
    });
  }
  // small secondary pops
  if(Math.random() > 0.65){ setTimeout(()=> explode(x + (Math.random()-0.5)*30, y + (Math.random()-0.5)*30, color), 120 + Math.random()*220); }
}

/* puzzle/cracker animations (small rapid pops in sequence) */
function puzzleCracker(x,y){
  // visual: quick small bursts + tiny sparks
  for(let r=0;r<4;r++){
    setTimeout(()=>{
      const color = `hsl(${Math.random()*60 + 10},90%,55%)`;
      explode(x + (Math.random()-0.5)*20, y + (Math.random()-0.5)*20, color);
    }, r*120);
  }
}

/* big multi burst */
function triggerBigBurst(n=5){
  for(let i=0;i<n;i++){
    setTimeout(()=>{
      const x = 80 + Math.random()*(cw-160);
      const y = 80 + Math.random()*(ch*0.5);
      explode(x,y, `hsl(${Math.random()*360},85%,60%)`);
      // surrounding rockets
      for(let r=0;r<3;r++){
        launchRocket(x + (Math.random()-0.5)*60);
      }
      // if crackers on, puzzle cracker near bottom
      if(crackersOn){
        puzzleCracker(60 + Math.random()*(cw-120), ch - 150);
      }
    }, i*300);
  }
}

/* animation loop */
let last = 0;
function anim(ts){
  requestAnimationFrame(anim);
  const dt = ts - last;
  last = ts;
  // fade background to create trails
  ctx.fillStyle = "rgba(4,6,15,0.18)";
  ctx.fillRect(0,0,cw,ch);

  // rockets movement
  for(let i=rockets.length-1;i>=0;i--){
    const r = rockets[i];
    r.x += r.vx; r.y += r.vy; r.vy += 0.12; r.life++;
    // trail
    ctx.beginPath(); ctx.fillStyle = "rgba(255,220,120,0.85)"; ctx.arc(r.x, r.y, 2.6, 0, Math.PI*2); ctx.fill();
    if(r.vy > -1 || r.life > 80 || Math.random() < 0.01){
      explode(r.x, r.y, r.color);
      rockets.splice(i,1);
    }
  }

  // particles
  for(let i=particles.length-1;i>=0;i--){
    const p = particles[i];
    p.x += p.vx; p.y += p.vy; p.vy += 0.06; p.vx *= 0.998; p.alpha -= p.decay;
    if(p.alpha <= 0.02){ particles.splice(i,1); continue; }
    const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.size*9);
    g.addColorStop(0, `rgba(255,255,255,${Math.min(1,p.alpha*1.2)})`);
    g.addColorStop(0.2, `rgba(255,248,220,${p.alpha})`);
    g.addColorStop(1, `rgba(20,20,30,0)`);
    ctx.fillStyle = g;
    ctx.beginPath(); ctx.arc(p.x,p.y,p.size*6,0,Math.PI*2); ctx.fill();
  }

  // sometimes auto launch rockets
  if(Math.random() < 0.06 && rockets.length < 6){ launchRocket(); }

  // small ground crackers (sparks near bottom)
  if(crackersOn && Math.random() < 0.02){
    const gx = 60 + Math.random()*(cw-120);
    puzzleCracker(gx, ch - 140);
  }

  // keep particle cap
  if(particles.length > MAXP){ particles.splice(0, particles.length - MAXP); }
}
requestAnimationFrame(anim);

/* fade out sequence */
function fadeOutSequence(){
  const card = document.getElementById('card');
  card.style.transition = 'opacity 4s ease, transform 4s ease';
  card.style.opacity = 0; card.style.transform = 'scale(0.98) translateY(-8px)';
  // gently stop launching rockets
  crackersOn = false;
  // after fade, optionally clear canvas (soft)
  setTimeout(()=>{ ctx.fillStyle = 'rgba(0,0,0,1)'; ctx.fillRect(0,0,cw,ch); }, 4200);
}

/* initial schedule start */
scheduleAll();

/* helper: start with small bursts */
setTimeout(()=> { triggerBigBurst(3); }, 900);
setTimeout(()=> { triggerBigBurst(3); }, 4200);
setTimeout(()=> { if(crackersOn) puzzleCracker(200, ch-160); }, 6000);

/* accessibility: stop intervals on page hide */
document.addEventListener('visibilitychange', ()=>{
  if(document.hidden){
    timers.forEach(t=>clearTimeout(t));
  } else {
    // resume schedule roughly (simple approach: restart)
    // keep it simple and restart
    timers.forEach(t=>clearTimeout(t)); timers=[];
    scheduleAll();
  }
});
</script>
</body>
</html>
